# StorySlip Staging Environment Configuration
# This file contains staging-specific environment variables

# Environment
NODE_ENV=production
ENVIRONMENT=staging

# API Configuration
API_PORT=3001
API_HOST=0.0.0.0
API_URL=https://api-staging.storyslip.com

# Dashboard Configuration
DASHBOARD_PORT=3000
DASHBOARD_URL=https://app-staging.storyslip.com

# Marketing Site Configuration
MARKETING_PORT=3002
MARKETING_URL=https://staging.storyslip.com

# Widget Configuration
WIDGET_CDN_URL=https://cdn-staging.storyslip.com/widgets

# Database Configuration (Staging Supabase Project)
SUPABASE_URL=https://your-staging-project.supabase.co
SUPABASE_ANON_KEY=your-staging-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-staging-service-role-key
DATABASE_URL=postgresql://postgres:[password]@db.your-staging-project.supabase.co:5432/postgres

# JWT Configuration
JWT_SECRET=${JWT_SECRET_STAGING}
JWT_EXPIRES_IN=7d

# CORS Configuration
CORS_ORIGINS=https://app-staging.storyslip.com,https://staging.storyslip.com,https://api-staging.storyslip.com

# Session Configuration
SESSION_SECRET=${SESSION_SECRET_STAGING}
COOKIE_DOMAIN=.storyslip.com
COOKIE_SECURE=true
COOKIE_SAME_SITE=none

# Email Configuration (Staging - Use real service with test domain)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=${SENDGRID_API_KEY_STAGING}
FROM_EMAIL=noreply@staging.storyslip.com
FROM_NAME=StorySlip Staging

# Redis Configuration
REDIS_URL=${REDIS_URL_STAGING}
REDIS_PASSWORD=${REDIS_PASSWORD_STAGING}

# File Upload Configuration
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf

# Monitoring Configuration
MONITORING_ENABLED=true
MONITORING_LOG_LEVEL=info
MONITORING_RETENTION_DAYS=14

# Performance Configuration
PERF_CPU_WARNING_THRESHOLD=70
PERF_CPU_CRITICAL_THRESHOLD=90
PERF_MEMORY_WARNING_THRESHOLD=80
PERF_MEMORY_CRITICAL_THRESHOLD=95

# Security Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=500
BCRYPT_ROUNDS=12

# Feature Flags
FEATURE_AI_CONTENT=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_WHITE_LABELING=true
FEATURE_TEAM_MANAGEMENT=true

# External Services
OPENAI_API_KEY=${OPENAI_API_KEY_STAGING}
STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY_STAGING}
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY_STAGING}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET_STAGING}

# Analytics
GOOGLE_ANALYTICS_ID=G-STAGING-XXXXXXXXXX
MIXPANEL_TOKEN=${MIXPANEL_TOKEN_STAGING}

# CDN Configuration
CDN_URL=https://cdn-staging.storyslip.com
CDN_ENABLED=true

# Logging
LOG_LEVEL=info
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/storyslip/staging.log

# SSL Configuration
SSL_CERT_PATH=/etc/ssl/certs/storyslip-staging.crt
SSL_KEY_PATH=/etc/ssl/private/storyslip-staging.key

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Development Tools (Disabled in staging)
DEBUG=
ENABLE_PLAYGROUND=false
ENABLE_GRAPHQL_PLAYGROUND=false
ENABLE_API_DOCS=true